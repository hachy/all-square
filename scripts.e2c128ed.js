parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rsAd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Global=void 0;var e=function(){function e(){}return e.gameOver=!1,e}();exports.Global=e;
},{}],"fwX3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Modal=void 0;var t=function(){function t(){t.modal=document.getElementById("modal"),this.modalBtn=document.getElementById("modal-btn")}return Object.defineProperty(t.prototype,"btn",{get:function(){return this.modalBtn},enumerable:!1,configurable:!0}),t.show=function(){this.modal.classList.add("show")},t.close=function(){this.modal.classList.remove("show")},t}();exports.Modal=t;
},{}],"c3j3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0,exports.data=[{stage:[[2,2],[2,2],[2,0],[1,0]],current:[3,0],move:5,color:"#7955ed"},{stage:[[2,2,2],[2,1,2],[2,2,2]],current:[1,1],move:20,color:"#93d9fb"},{stage:[[1,2,2],[2,1,1],[2,2,2]],current:[1,1],move:10,color:"#b9f736"},{stage:[[2,1,2],[1,2,1],[2,2,2]],current:[2,1],move:15,color:"#fbb593"},{stage:[[1,1,2],[1,2,1],[1,1,2],[1,2,2]],current:[2,1],move:11,color:"#5355d4"},{stage:[[2,2,2,2],[2,1,1,2],[2,1,2,2],[2,2,1,2]],current:[2,2],move:20,color:"#fcf029"},{stage:[[2,2,1,2],[2,1,1,1],[2,2,1,2],[2,2,2,2]],current:[3,1],move:20,color:"#8acf3f"},{stage:[[1,2,1,2,2],[2,2,1,2,2],[1,1,1,1,1],[2,2,1,2,2],[2,2,1,2,2]],current:[2,2],move:30,color:"#d253d4"},{stage:[[2,2,2,2,2],[2,1,1,1,1],[2,1,1,1,1],[2,1,1,1,1],[2,2,2,2,1]],current:[4,0],move:40,color:"#53d4d2"},{stage:[[2,2,2,2,2],[2,2,1,2,2],[2,1,2,1,2],[2,2,1,2,2],[2,2,2,2,2]],current:[0,2],move:35,color:"#9253d4"},{stage:[[0,2,1,2,0],[2,2,2,2,2],[2,1,2,1,2],[2,2,2,2,2],[0,2,1,2,0]],current:[2,2],move:35,color:"#55d453"},{stage:[[0,2,1,2,0],[2,1,2,1,2],[1,2,1,2,1],[2,1,2,1,2],[0,2,1,2,0]],current:[1,0],move:40,color:"#d4d253"},{stage:[[2,1,1,1,2],[2,2,2,2,2],[0,1,0,2,0],[2,1,2,1,2],[2,2,1,2,2],[0,0,2,0,0]],current:[2,3],move:35,color:"#d45355"},{stage:[[0,0,0,2,2],[0,2,2,1,2],[2,1,2,2,2],[1,2,0,1,2],[2,1,2,1,2],[2,2,2,1,0],[2,1,0,0,0]],current:[0,3],move:45,color:"#67d9d7"},{stage:[[2,1,2,0,0],[2,1,2,1,0],[0,2,1,2,2],[2,1,0,1,2],[2,2,2,2,0],[0,1,2,1,2],[0,0,1,2,2]],current:[4,1],move:40,color:"#5377d4"},{stage:[[0,2,1,0,0],[2,1,2,2,1],[2,2,2,1,2],[2,1,2,2,2],[2,2,2,2,2],[0,1,2,0,2],[0,1,2,2,2]],current:[3,2],move:35,color:"#acd453"},{stage:[[2,2,0,0,0],[1,2,1,0,0],[2,1,2,2,0],[0,2,1,2,1],[0,1,2,1,2],[1,2,1,2,0],[2,1,2,0,0],[2,2,0,0,0]],current:[4,1],move:45,color:"#d4536c"},{stage:[[2,1,0,2,2],[1,2,1,2,1],[2,1,2,2,1],[2,0,2,0,2],[2,2,1,2,1],[1,2,2,2,1],[2,2,0,1,1]],current:[6,4],move:55,color:"#7b53d4"},{stage:[[1,1,0,2,1],[2,1,2,1,2],[2,2,0,2,2],[1,2,1,2,1],[2,2,0,2,2],[2,1,2,1,2],[2,2,0,2,1]],current:[0,3],move:65,color:"#f2da02"},{stage:[[2,2,1,2,2,2],[1,0,1,2,2,2],[1,1,1,2,2,2],[2,2,2,1,1,1],[2,0,2,1,0,1],[2,2,2,1,2,2]],current:[5,5],move:45,color:"#2aa9fd"},{stage:[[2,2,2,2,2,2],[2,2,2,2,0,2],[2,2,2,0,2,1],[2,2,0,1,2,2],[2,0,2,1,2,2],[2,1,2,2,2,2]],current:[5,0],move:95,color:"#c178b8"},{stage:[[0,1,2,2,2,0],[1,2,1,2,2,2],[2,1,0,2,1,2],[2,2,2,1,2,2],[1,2,2,2,0,2],[0,1,2,2,1,2]],current:[1,1],move:50,color:"#8cf904"},{stage:[[2,2,0,2,2,2],[2,2,2,2,2,2],[1,2,0,2,1,0],[0,2,2,0,2,1],[1,2,1,2,2,2],[2,2,2,0,2,2]],current:[3,2],move:70,color:"#d06ba4"},{stage:[[2,2,1,2,2,0],[2,0,1,2,2,2],[2,2,2,0,2,1],[2,1,0,2,2,1],[2,2,2,1,0,2],[0,2,2,2,2,2]],current:[1,4],move:50,color:"#666ffc"},{stage:[[2,2,0,2,1,2],[1,2,1,2,2,2],[2,2,2,0,2,2],[2,0,2,2,0,2],[1,2,1,2,2,1],[2,2,0,0,1,2]],current:[5,4],move:90,color:"#fc9b4d"},{stage:[[0,2,2,2,2,2,0],[2,1,2,1,2,1,2],[2,2,0,2,0,2,2],[2,1,2,2,2,1,2],[2,2,0,2,0,2,2],[2,1,2,1,2,1,2],[0,2,2,2,2,2,0]],current:[3,3],move:80,color:"#4daefc"},{stage:[[2,2,2,0,2,2,1],[2,1,2,1,2,2,2],[2,2,0,2,0,2,2],[0,2,2,2,2,2,0],[2,2,0,2,0,2,2],[2,1,2,1,2,1,2],[2,2,2,0,2,2,1]],current:[3,3],move:70,color:"#f48ef9"},{stage:[[2,2,0,2,2,2,2],[1,2,1,1,2,2,2],[2,1,0,2,0,2,0],[2,2,2,1,2,2,1],[0,2,0,2,0,2,2],[2,1,2,1,2,2,1],[2,2,1,2,0,2,2]],current:[2,5],move:100,color:"#627cf9"},{stage:[[2,2,2,2,2,2,0],[2,1,2,0,2,2,2],[2,0,1,2,2,1,2],[2,2,2,0,2,2,2],[2,2,2,2,2,0,2],[2,2,1,0,1,2,2],[0,2,2,2,2,2,2]],current:[3,2],move:100,color:"#44c47c"},{stage:[[2,2,1,2,2,2,0],[2,1,0,2,2,2,1],[2,2,2,2,2,2,2],[0,2,0,1,0,2,0],[2,2,2,2,2,1,2],[2,1,2,2,2,0,2],[0,2,2,2,2,2,2]],current:[2,4],move:65,color:"#b593fb"}];
},{}],"z9H4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wait=void 0;var e=function(e){return new Promise(function(t){return setTimeout(t,e)})};exports.wait=e;
},{}],"hHYQ":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{u(n.next(t))}catch(e){i(e)}}function a(t){try{u(n.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}u((n=n.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Info=void 0;var r=require("./data"),n=require("./global"),o=require("./modal"),i=require("./util"),s=function(){function s(t){this.stageTxt=document.getElementById("stage"),this.stageN=t,s.moveTxt=document.getElementById("move"),s.progress=document.getElementById("progress-bar"),s.move=r.data[t].move,s.moveMax=r.data[t].move,this.render()}return s.prototype.render=function(){this.stageTxt.textContent=""+(this.stageN+1),s.moveTxt.textContent=""+s.move},s.countMove=function(){this.move<=0?(o.Modal.show(),n.Global.gameOver=!0):this.move--,this.percent(),this.moveTxt.textContent=""+this.move},s.percent=function(r){if(void 0===r&&(r=!1),r)t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return this.progress.setAttribute("aria-valuenow","0"),this.progress.setAttribute("style","width: 0%"),this.progress.style.transition="none",[4,i.wait(100)];case 1:return t.sent(),this.progress.setAttribute("aria-valuenow","100"),this.progress.setAttribute("style","width: 100%"),[2]}})});else{var n=Math.floor(this.move/this.moveMax*100);this.progress.setAttribute("aria-valuenow",""+n),this.progress.setAttribute("style","width: "+n+"%")}},s}();exports.Info=s;
},{"./data":"c3j3","./global":"rsAd","./modal":"fwX3","./util":"z9H4"}],"gXOT":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,a,r){return new(a||(a=Promise))(function(l,o){function n(t){try{i(r.next(t))}catch(e){o(e)}}function s(t){try{i(r.throw(t))}catch(e){o(e)}}function i(t){var e;t.done?l(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(n,s)}i((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var a,r,l,o,n={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;switch(r=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,r=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(!(l=(l=n.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){n=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){n.label=o[1];break}if(6===o[0]&&n.label<l[1]){n.label=l[1],l=o;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(o);break}l[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(s){o=[6,s],r=0}finally{a=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var a=require("./data"),r=require("./global"),l=require("./info"),o=require("./util"),n=function(){function n(){this.btns=document.getElementById("stage-btns"),this.template=document.getElementById("stage-btn-template"),this.boardEl=document.getElementById("board"),this.block=[document.getElementById("none-template"),document.getElementById("square-template"),document.getElementById("circle-template")],this.arrow=[document.getElementsByClassName("top")[0],document.getElementsByClassName("right")[0],document.getElementsByClassName("bottom")[0],document.getElementsByClassName("left")[0]]}return n.prototype.createNav=function(t){for(;this.btns.firstChild;)this.btns.removeChild(this.btns.firstChild);for(var e=0;e<a.data.length;e++){var r=document.importNode(this.template.content,!0),l=r.querySelector("button");l.textContent=""+(e+1),l.addEventListener("click",this.start.bind(this,e)),t===e&&(l.classList.add("current"),l.style.border="2px solid "+a.data[t].color),e<=parseInt(localStorage.getItem("all-square-level-max"))&&(l.disabled=!1),this.btns.appendChild(r)}},n.prototype.createBoard=function(){r.Global.board=[];for(var t=0;t<this.xLen;t++){r.Global.board[t]=[];for(var e=0;e<this.yLen;e++)r.Global.board[t][e]=this.stage[t][e]}},n.prototype.showBoard=function(){var l=this;for(this.boardEl.classList.remove("fadeOut");this.boardEl.firstChild;)this.boardEl.removeChild(this.boardEl.firstChild);for(var n=localStorage["all-square-level"],s=0;s<this.xLen;s++)for(var i=0;i<this.yLen;i++){var d=document.importNode(this.block[r.Global.board[s][i]].content,!0),c=d.querySelector(".square");null!=c&&(c.style.background=a.data[n].color);var u=d.querySelector("div");if(i===r.Global.current[1]){var h=r.Global.current[0]-1,b=r.Global.current[0]+1;if(s===h&&38!==r.Global.prevKey&&0!==r.Global.board[h][i]){var p=this.arrow[0].cloneNode(!0);u.appendChild(p),u.dataset.canFlip="top",u.dataset.x=""+h,u.dataset.y=""+r.Global.current[1]}if(s===b&&40!==r.Global.prevKey&&0!==r.Global.board[b][i]){var f=this.arrow[2].cloneNode(!0);u.appendChild(f),u.dataset.canFlip="bottom",u.dataset.x=""+b,u.dataset.y=""+r.Global.current[1]}}if(s===r.Global.current[0]){var m=r.Global.current[1]+1,y=r.Global.current[1]-1;if(i===m&&39!==r.Global.prevKey&&0!==r.Global.board[s][m]){var v=this.arrow[1].cloneNode(!0);u.appendChild(v),u.dataset.canFlip="right",u.dataset.x=""+r.Global.current[0],u.dataset.y=""+m}if(i===y&&37!==r.Global.prevKey&&0!==r.Global.board[s][y]){var g=this.arrow[3].cloneNode(!0);u.appendChild(g),u.dataset.canFlip="left",u.dataset.x=""+r.Global.current[0],u.dataset.y=""+y}}this.boardEl.appendChild(u)}var G=document.getElementsByClassName("active-block")[0].offsetWidth;if(this.boardEl.style.width=G*this.yLen+12*this.yLen+"px",this.blockMax===r.Global.board.flat().filter(function(t){return 1===t}).length){var x=parseInt(localStorage.getItem("all-square-level"))+1;t(l,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return r.Global.gameOver=!0,this.boardEl.classList.add("fadeOut"),[4,o.wait(1300)];case 1:return t.sent(),x>=a.data.length?console.info("Thank you for playing!"):this.start(x),[2]}})})}},n.prototype.flip=function(t,e,a){var o=t,n=e;r.Global.prevKey=a,40===a?r.Global.current[0]--:37===a?r.Global.current[1]++:38===a?r.Global.current[0]++:39===a&&r.Global.current[1]--,r.Global.board[o][n]=3-r.Global.board[o][n],l.Info.countMove(),this.showBoard(),this.addFlipEvent()},n.prototype.addFlipEvent=function(){var t=this,e=document.getElementsByClassName("active-block");Array.prototype.forEach.call(e,function(e){"top"===e.dataset.canFlip&&e.addEventListener("mousedown",t.flip.bind(t,e.dataset.x,e.dataset.y,40)),"right"===e.dataset.canFlip&&e.addEventListener("mousedown",t.flip.bind(t,e.dataset.x,e.dataset.y,37)),"bottom"===e.dataset.canFlip&&e.addEventListener("mousedown",t.flip.bind(t,e.dataset.x,e.dataset.y,38)),"left"===e.dataset.canFlip&&e.addEventListener("mousedown",t.flip.bind(t,e.dataset.x,e.dataset.y,39))})},n.prototype.start=function(t){t>parseInt(localStorage.getItem("all-square-level-max"))&&(localStorage["all-square-level-max"]=t),localStorage["all-square-level"]=t,new l.Info(t).render(),r.Global.gameOver=!1,r.Global.current=a.data[t].current.slice(),this.stage=a.data[t].stage,this.xLen=this.stage.length,this.yLen=this.stage[0].length,r.Global.xMax=this.xLen-1,r.Global.yMax=this.yLen-1,r.Global.prevKey=0,this.blockMax=this.stage.flat().filter(function(t){return 0!==t}).length,this.createNav(t),l.Info.percent(!0),this.createBoard(),this.showBoard(),this.addFlipEvent()},n}();exports.Game=n;
},{"./data":"c3j3","./global":"rsAd","./info":"hHYQ","./util":"z9H4"}],"KqmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./global"),l=require("./modal"),a=require("./game"),r=new a.Game,t=function(){l.Modal.close(),r.start(parseInt(localStorage.getItem("all-square-level")))},o=new l.Modal;o.btn.addEventListener("click",function(){return t()}),localStorage.getItem("all-square-level-max")?r.start(parseInt(localStorage.getItem("all-square-level"))):(localStorage["all-square-level"]=0,localStorage["all-square-level-max"]=0,r.start(0));var n=document.getElementById("restartBtn");n.addEventListener("click",function(){r.start(parseInt(localStorage.getItem("all-square-level")))}),document.addEventListener("keydown",function(l){var a=l.keyCode,o=e.Global.current[0],n=e.Global.current[1];if(e.Global.gameOver)return l.preventDefault(),void(32===a&&t());38===a&&o>0&&38!==e.Global.prevKey&&0!==e.Global.board[o-1][n]?r.flip(o-1,n,40):39===a&&n<e.Global.yMax&&39!==e.Global.prevKey&&0!==e.Global.board[o][n+1]?r.flip(o,n+1,37):40===a&&o<e.Global.xMax&&40!==e.Global.prevKey&&0!==e.Global.board[o+1][n]?r.flip(o+1,n,38):37===a&&n>0&&37!==e.Global.prevKey&&0!==e.Global.board[o][n-1]&&r.flip(o,n-1,39)});
},{"./global":"rsAd","./modal":"fwX3","./game":"gXOT"}]},{},["KqmS"], null)